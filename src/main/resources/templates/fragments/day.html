<div th:fragment="dayFragment">
    <h1 th:text="'Date: ' + ${day}">Date</h1>

    <div class="info-blocks">
        <div th:each="slotIdx : ${#numbers.sequence(0,5)}" style="padding: 10px">

            <a th:with="cell=${day != null and dayEventMapForDay.containsKey(day) and dayEventMapForDay.get(day).size() > slotIdx ? dayEventMapForDay.get(day).get(slotIdx) : null}"
               th:text="${cell != null ? (cell.planDate==dayDate ? 'COOK ' : '') + cell.name : ''}"
               th:style="${cell != null ? 'background-color:' + cell.color : ''} + '; display:block; padding:5px; margin-bottom:0; text-decoration:none; color:black;'"
               th:href="@{/mealcraft/meals/edit/{id}(id=${cell != null ? cell.id : 0})}">
            </a>

            <div th:with="cell=${day != null and dayEventMapForDay.containsKey(day) and dayEventMapForDay.get(day).size() > slotIdx ? dayEventMapForDay.get(day).get(slotIdx) : null}"
                 th:text="${cell != null ? 'Servings: ' + cell.servings : ''}"
                 th:style="${cell != null ? 'background-color:' + cell.color : ''} + '; display:block; padding:5px; margin-bottom:2px; text-decoration:none; color:black;'"
                 th:href="@{/mealcraft/meals/edit/{id}(id=${cell != null ? cell.id : 0})}">
            </div>

        </div>
    </div>

    <a th:href="@{/mealcraft/meals/add/{day}(day=${day})}">Add dish cooking session</a>
    <a href="/mealcraft/home">Back to Calendar</a>
</div>
